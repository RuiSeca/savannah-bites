"use strict";(self.webpackChunksavannah_bites=self.webpackChunksavannah_bites||[]).push([[717],{8253:(e,s,a)=>{a.d(s,{A:()=>n});a(5043);var r=a(579);const n=e=>{let{currentStep:s}=e;return(0,r.jsxs)("div",{className:"progress-steps-reservation",children:[(0,r.jsxs)("div",{className:"progress-step-wrapper-reservation",children:[(0,r.jsxs)("div",{className:"progress-step-container-reservation",children:[(0,r.jsx)("div",{className:"progress-step-circle-reservation "+(s>=1?"active":""),children:"1"}),(0,r.jsx)("div",{className:"progress-line-reservation "+(s>=2?"active":"")})]}),(0,r.jsx)("span",{className:"progress-step-label-reservation",children:"Reservation Details"})]}),(0,r.jsxs)("div",{className:"progress-step-wrapper-reservation",children:[(0,r.jsx)("div",{className:"progress-step-container-reservation",children:(0,r.jsx)("div",{className:"progress-step-circle-reservation "+(s>=2?"active":""),children:"2"})}),(0,r.jsx)("span",{className:"progress-step-label-reservation",children:"Confirmation"})]})]})}},717:(e,s,a)=>{a.r(s),a.d(s,{default:()=>m});var r=a(5043),n=a(6213),i=a(3216),l=a(8253),t=a(579);const c="http://10.77.228.19:5000/api",o=n.A.create({baseURL:c.endsWith("/api")?c:`${c}/api`,withCredentials:!0,headers:{"Content-Type":"application/json"}}),d=()=>{const{pathname:e}=(0,i.zy)();return(0,r.useLayoutEffect)((()=>{document.documentElement.scrollTo({top:0,left:0,behavior:"instant"})}),[e]),null},m=()=>{const e=(0,i.zy)(),s=(0,i.Zp)(),{reservationId:a,reservation:n}=e.state||{},[c,m]=(0,r.useState)(n||null),[h,v]=(0,r.useState)(!n),[p,u]=(0,r.useState)(null);(0,r.useLayoutEffect)((()=>{document.documentElement.scrollTo({top:0,left:0,behavior:"instant"})}),[]),(0,r.useEffect)((()=>{if(!a&&!n)return console.log("No reservation details available, redirecting to home"),void s("/");if(n)return void v(!1);(async()=>{try{console.log("Fetching reservation details for ID:",a);const e=await o.get(`/reservations/${a}`);if(console.log("Reservation details response:",e.data),"success"!==e.data.status||!e.data.data)throw new Error("Invalid response format from server");m(e.data.data)}catch(p){var e,s;console.error("Error fetching reservation details:",p),u((null===(e=p.response)||void 0===e||null===(s=e.data)||void 0===s?void 0:s.message)||"Failed to load reservation details")}finally{v(!1)}})()}),[a,s,n]);return h?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d,{}),(0,t.jsxs)("div",{className:"loading-container",role:"status",children:[(0,t.jsx)("div",{className:"spinner"}),(0,t.jsx)("p",{children:"Loading your reservation details..."})]})]}):p?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d,{}),(0,t.jsxs)("div",{className:"error-container",role:"alert",children:[(0,t.jsx)("h2",{children:"Error Loading Reservation"}),(0,t.jsx)("p",{className:"error-message",children:p}),(0,t.jsx)("button",{onClick:()=>s("/"),className:"return-button",children:"Return to Home"})]})]}):c?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d,{}),(0,t.jsxs)("div",{className:"confirmation-container",children:[(0,t.jsx)(l.A,{currentStep:2}),(0,t.jsxs)("div",{className:"confirmation-header",children:[(0,t.jsx)("h1",{children:"Reservation Confirmation"}),(0,t.jsxs)("div",{className:"status-badge","data-status":"confirmed",children:[(0,t.jsx)("div",{className:"success-icon",children:"\u2713"}),(0,t.jsx)("p",{className:"confirmation-message",children:"Your table has been reserved! A confirmation email has been sent to:"}),(0,t.jsx)("p",{className:"customer-email",children:c.email}),(0,t.jsxs)("div",{className:"reservation-info",children:[(0,t.jsxs)("p",{className:"confirmation-id",children:["Reservation ID: ",c.id||a]}),(0,t.jsxs)("p",{className:"reservation-status",children:["Status: ",c.status||"Confirmed"]})]})]})]}),(0,t.jsxs)("div",{className:"confirmation-content",children:[(0,t.jsxs)("div",{className:"customer-info section",children:[(0,t.jsx)("h2",{children:"Guest Information"}),(0,t.jsxs)("div",{className:"info-grid",children:[(0,t.jsxs)("div",{className:"info-item",children:[(0,t.jsx)("span",{className:"label",children:"Name:"}),(0,t.jsx)("span",{className:"value",children:c.name})]}),(0,t.jsxs)("div",{className:"info-item",children:[(0,t.jsx)("span",{className:"label",children:"Phone:"}),(0,t.jsx)("span",{className:"value",children:c.phone})]}),(0,t.jsxs)("div",{className:"info-item",children:[(0,t.jsx)("span",{className:"label",children:"Email:"}),(0,t.jsx)("span",{className:"value",children:c.email})]})]})]}),(0,t.jsxs)("div",{className:"reservation-details section",children:[(0,t.jsx)("h2",{children:"Reservation Details"}),(0,t.jsxs)("div",{className:"info-grid",children:[(0,t.jsxs)("div",{className:"info-item",children:[(0,t.jsx)("span",{className:"label",children:"Date:"}),(0,t.jsx)("span",{className:"value",children:(e=>{if(!e)return"Not specified";try{const s=new Date(e);return new Intl.DateTimeFormat("en-GB",{weekday:"long",year:"numeric",month:"long",day:"numeric"}).format(s)}catch(p){return console.error("Date formatting error:",p),e}})(c.date)})]}),(0,t.jsxs)("div",{className:"info-item",children:[(0,t.jsx)("span",{className:"label",children:"Time:"}),(0,t.jsx)("span",{className:"value",children:c.time})]}),(0,t.jsxs)("div",{className:"info-item",children:[(0,t.jsx)("span",{className:"label",children:"Number of Guests:"}),(0,t.jsxs)("span",{className:"value",children:[c.guests," ",1===c.guests?"person":"people"]})]}),c.allergies&&(0,t.jsxs)("div",{className:"allergies-info",children:[(0,t.jsx)("span",{className:"label",children:"Dietary Requirements:"}),(0,t.jsx)("p",{className:"value",children:c.allergies})]})]})]}),(0,t.jsxs)("div",{className:"next-steps section",children:[(0,t.jsx)("h2",{children:"What's Next?"}),(0,t.jsxs)("div",{className:"steps-list",children:[(0,t.jsxs)("div",{className:"step",children:[(0,t.jsx)("span",{className:"step-number",children:"1"}),(0,t.jsx)("p",{children:"You'll receive an email confirmation shortly"})]}),(0,t.jsxs)("div",{className:"step",children:[(0,t.jsx)("span",{className:"step-number",children:"2"}),(0,t.jsx)("p",{children:"Please arrive 5-10 minutes before your reservation time"})]}),(0,t.jsxs)("div",{className:"step",children:[(0,t.jsx)("span",{className:"step-number",children:"3"}),(0,t.jsx)("p",{children:"If you need to modify your reservation, please call us directly"})]})]})]}),(0,t.jsxs)("div",{className:"important-info section",children:[(0,t.jsx)("h2",{children:"Important Information"}),(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:"Please let us know if you're running late"}),(0,t.jsx)("li",{children:"We hold reservations for up to 15 minutes after the booking time"}),(0,t.jsx)("li",{children:"For parties of 7 or more, please contact us directly"})]})]}),(0,t.jsx)("div",{className:"actions section",children:(0,t.jsx)("button",{onClick:()=>s("/"),className:"return-home-button",children:"Return to Home"})})]})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d,{}),(0,t.jsxs)("div",{className:"error-container",role:"alert",children:[(0,t.jsx)("h2",{children:"Reservation Not Found"}),(0,t.jsx)("p",{children:"We couldn't find the reservation details you're looking for."}),(0,t.jsx)("button",{onClick:()=>s("/"),className:"return-button",children:"Return to Home"})]})]})}}}]);
//# sourceMappingURL=717.3ca2af3f.chunk.js.map