"use strict";(self.webpackChunksavannah_bites=self.webpackChunksavannah_bites||[]).push([[350],{350:(e,s,r)=>{r.r(s),r.d(s,{default:()=>z});var a=r(5043),i=r(3216),l=r(5169),t=r(1991),c=r(1092),n=r(2591),o=r(5066),d=r(2040),m=r(4440),p=r(4240),h=r(742),u=r(6819),j=r(6624),x=r(3462),v=r(1316),g=r(5653),y=r(8666),N=r(4223),b=r(5243),k=r(6501),f=r(5030),C=r(5807),P=r(6808),F=r(9010),w=r(8344),q=r(230),M=r(1421),T=r(4191),S=r(579);const D={"suya-skewers.png":c,"jollof-rice.jpg":n,"malva-pudding.png":o,"moi-moi.jpg":d,"puff-puff.jpg":m,"jamaican-patties.jpg":h,"egusi-soup.jpg":p,"calulu.jpg":u,"cachupa.jpg":j,"chin-chin.jpg":x,"banana-flambe.jpg":v,"randburg-sun.jpg":g,"water.jpg":y,"coca-cola.jpg":N,"ice-tea.jpg":b,"compal.jpg":k,"strawberry-milkshake.jpg":f,"chocolate-milkshake.jpg":C,"vanilla-milkshake.jpg":P,"oreo-milkshake.jpg":F,"apple-somersby.jpg":w,"super-bock.jpg":q,"stella-artois.jpg":M,"cuca.jpg":T},A=2.5,$=["10:00 AM - 12:00 PM","12:00 PM - 2:00 PM","2:00 PM - 4:00 PM","4:00 PM - 6:00 PM","6:00 PM - 8:00 PM"],I={name:"",email:"",phone:"",street:"",city:"",postcode:"",deliveryTime:"",specialInstructions:""};const z=function(){const{cart:e,removeFromCart:s,updateQuantity:r}=(0,l._)(),c=(0,i.Zp)(),[n,o]=(0,a.useState)(I),[d,m]=(0,a.useState)({}),[p,h]=(0,a.useState)(!1),u=(0,a.useCallback)((e=>{const s=e.replace(/\D/g,"");return s.length<=3?s:s.length<=7?`${s.slice(0,3)} ${s.slice(3)}`:`${s.slice(0,3)} ${s.slice(3,7)} ${s.slice(7,11)}`}),[]),j=(0,a.useCallback)((e=>{const{id:s,value:r}=e.target;o((e=>({...e,[s]:"phone"===s?u(r):r}))),m((e=>({...e,[s]:"",general:""})))}),[u]),{subtotal:x,totalPrice:v}=(0,a.useMemo)((()=>{const s=e.reduce(((e,s)=>e+(s.selectedPrice||s.price)*s.quantity),0);return{subtotal:s,totalPrice:s+A}}),[e]),g=(0,a.useCallback)(((e,s,a)=>{s>=1&&r(e,s,a)}),[r]),y=(0,a.useCallback)((()=>{const s={};var r,a,i;n.name.trim()||(s.name="Name is required"),n.email?(r=n.email,/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)||(s.email="Please enter a valid email address")):s.email="Email is required",n.phone?(a=n.phone,/^[\d\s]{11,14}$/.test(a)||(s.phone="Please enter a valid UK phone number")):s.phone="Phone number is required",n.street.trim()||(s.street="Street address is required"),n.city.trim()||(s.city="City is required"),n.postcode.trim()?(i=n.postcode,/^[A-Z]{1,2}[0-9][A-Z0-9]? ?[0-9][A-Z]{2}$/i.test(i.trim())||(s.postcode="Please enter a valid UK postcode")):s.postcode="Postcode is required",n.deliveryTime||(s.deliveryTime="Please select a delivery time"),x<10&&(s.general=`Minimum order amount is \xa3${10..toFixed(2)}`);return e.reduce(((e,s)=>e+s.quantity),0)>20&&(s.general="Maximum 20 items allowed per order"),m(s),0===Object.keys(s).length}),[n,x,e]),N=(0,a.useCallback)((async s=>{if(s.preventDefault(),y())if(0!==e.length)try{h(!0),c("/payment",{state:{orderDetails:{items:e.map((e=>({id:e.id,name:e.name,quantity:e.quantity,price:e.selectedPrice||e.price,size:e.size||"regular"}))),customerInfo:{name:n.name,email:n.email,phone:n.phone,address:n.street,city:n.city,postcode:n.postcode.toUpperCase(),deliveryTime:n.deliveryTime,specialInstructions:n.specialInstructions},subtotal:x,deliveryFee:A,totalAmount:v,orderDate:(new Date).toISOString()}}})}catch(r){console.error("Checkout error:",r),m({general:"There was an error processing your order. Please try again."})}finally{h(!1)}else m({general:"Your cart is empty"})}),[e,n,x,v,c,y]);return 0===e.length?(0,S.jsx)("div",{className:"checkout-page",children:(0,S.jsxs)("div",{className:"checkout-container",children:[(0,S.jsx)("h1",{className:"page-title",children:"Checkout"}),(0,S.jsxs)("div",{className:"empty-cart",children:[(0,S.jsx)("p",{children:"Your cart is empty"}),(0,S.jsx)("button",{className:"primary-button",onClick:()=>c("/menu"),children:"Return to Menu"})]})]})}):(0,S.jsx)("div",{className:"checkout-page",children:(0,S.jsxs)("div",{className:"checkout-container",children:[(0,S.jsx)(t.A,{currentStep:1}),(0,S.jsxs)("div",{className:"checkout-header",children:[(0,S.jsx)("button",{className:"back-button",onClick:()=>c(-1),children:"\u2190 Back"}),(0,S.jsx)("h1",{children:"Checkout"})]}),(0,S.jsxs)("div",{className:"order-summary",children:[(0,S.jsx)("h2",{children:"Order Summary"}),(0,S.jsx)("ul",{className:"cart-items",children:e.map((e=>{return(0,S.jsxs)("li",{className:"cart-item",children:[(0,S.jsxs)("div",{className:"item-info",children:[(0,S.jsx)("img",{src:(r=e.image,D[r]||"https://via.placeholder.com/150"),alt:e.name,className:"checkout-item-image"}),(0,S.jsxs)("span",{className:"item-name",children:[e.name,e.size&&(0,S.jsxs)("span",{className:"item-size",children:["(",e.size,")"]})]}),(0,S.jsxs)("span",{className:"item-price",children:["\xa3",(e.selectedPrice||e.price).toFixed(2)]})]}),(0,S.jsxs)("div",{className:"quantity-controls",children:[(0,S.jsx)("button",{type:"button",onClick:()=>g(e.id,e.quantity-1,e.size),className:"quantity-btn",children:"-"}),(0,S.jsx)("span",{children:e.quantity}),(0,S.jsx)("button",{type:"button",onClick:()=>g(e.id,e.quantity+1,e.size),className:"quantity-btn",children:"+"})]}),(0,S.jsx)("button",{type:"button",onClick:()=>s(e.id,e.size),className:"remove-btn",children:"Remove"})]},`${e.id}-${e.size||"default"}`);var r}))}),(0,S.jsxs)("div",{className:"price-summary",children:[(0,S.jsxs)("div",{className:"price-row",children:[(0,S.jsx)("span",{children:"Subtotal"}),(0,S.jsxs)("span",{children:["\xa3",x.toFixed(2)]})]}),(0,S.jsxs)("div",{className:"price-row",children:[(0,S.jsx)("span",{children:"Delivery Fee"}),(0,S.jsxs)("span",{children:["\xa3",A.toFixed(2)]})]}),(0,S.jsxs)("div",{className:"price-row total",children:[(0,S.jsx)("span",{children:"Total"}),(0,S.jsxs)("span",{children:["\xa3",v.toFixed(2)]})]})]})]}),(0,S.jsxs)("form",{onSubmit:N,className:"delivery-form",children:[(0,S.jsx)("h2",{children:"Delivery Details"}),(0,S.jsxs)("div",{className:"form-section",children:[(0,S.jsx)("h3",{children:"Contact Information"}),(0,S.jsxs)("div",{className:"form-grid",children:[(0,S.jsxs)("div",{className:"form-group",children:[(0,S.jsx)("label",{htmlFor:"name",children:"Full Name *"}),(0,S.jsx)("input",{type:"text",id:"name",value:n.name,onChange:j,placeholder:"Enter your full name",className:d.name?"error":""}),d.name&&(0,S.jsx)("span",{className:"error-text",children:d.name})]}),(0,S.jsxs)("div",{className:"form-group",children:[(0,S.jsx)("label",{htmlFor:"email",children:"Email Address *"}),(0,S.jsx)("input",{type:"email",id:"email",value:n.email,onChange:j,placeholder:"Enter your email",className:d.email?"error":""}),d.email&&(0,S.jsx)("span",{className:"error-text",children:d.email})]}),(0,S.jsxs)("div",{className:"form-group",children:[(0,S.jsx)("label",{htmlFor:"phone",children:"Phone Number *"}),(0,S.jsx)("input",{type:"tel",id:"phone",value:n.phone,onChange:j,placeholder:"Enter your phone number",className:d.phone?"error":""}),d.phone&&(0,S.jsx)("span",{className:"error-text",children:d.phone})]})]})]}),(0,S.jsxs)("div",{className:"form-section",children:[(0,S.jsx)("h3",{children:"Delivery Address"}),(0,S.jsxs)("div",{className:"form-group",children:[(0,S.jsx)("label",{htmlFor:"street",children:"Street Address *"}),(0,S.jsx)("textarea",{id:"street",value:n.street,onChange:j,placeholder:"Enter your street address",rows:"2",className:d.street?"error":""}),d.street&&(0,S.jsx)("span",{className:"error-text",children:d.street})]}),(0,S.jsxs)("div",{className:"address-grid",children:[(0,S.jsxs)("div",{className:"form-group",children:[(0,S.jsx)("label",{htmlFor:"city",children:"City *"}),(0,S.jsx)("input",{type:"text",id:"city",value:n.city,onChange:j,placeholder:"Enter city",className:d.city?"error":""}),d.city&&(0,S.jsx)("span",{className:"error-text",children:d.city})]}),(0,S.jsxs)("div",{className:"form-group",children:[(0,S.jsx)("label",{htmlFor:"postcode",children:"Postcode *"}),(0,S.jsx)("input",{type:"text",id:"postcode",value:n.postcode,onChange:j,placeholder:"Enter postcode",className:d.postcode?"error":""}),d.postcode&&(0,S.jsx)("span",{className:"error-text",children:d.postcode})]})]})]}),(0,S.jsxs)("div",{className:"form-section",children:[(0,S.jsx)("h2",{className:"summary-title",children:"Delivery Options"}),(0,S.jsxs)("div",{className:"form-group",children:[(0,S.jsx)("label",{htmlFor:"deliveryTime",children:"Preferred Delivery Time *"}),(0,S.jsxs)("select",{id:"deliveryTime",value:n.deliveryTime,onChange:j,className:d.deliveryTime?"error":"",children:[(0,S.jsx)("option",{value:"",children:"Select delivery time"}),$.map((e=>(0,S.jsx)("option",{value:e,children:e},e)))]}),d.deliveryTime&&(0,S.jsx)("span",{className:"error-message",children:d.deliveryTime})]}),(0,S.jsxs)("div",{className:"form-group",children:[(0,S.jsx)("label",{htmlFor:"specialInstructions",children:"Special Instructions (Optional)"}),(0,S.jsx)("textarea",{id:"specialInstructions",value:n.specialInstructions,onChange:j,placeholder:"Add any special delivery instructions...",rows:"3",className:"special-instructions"})]}),(0,S.jsxs)("div",{className:"price-summary",children:[(0,S.jsxs)("div",{className:"price-row",children:[(0,S.jsx)("span",{children:"Subtotal:"}),(0,S.jsxs)("span",{children:["\xa3",x.toFixed(2)]})]}),(0,S.jsxs)("div",{className:"price-row",children:[(0,S.jsx)("span",{children:"Delivery Fee:"}),(0,S.jsxs)("span",{children:["\xa3",A.toFixed(2)]})]}),(0,S.jsxs)("div",{className:"price-row total",children:[(0,S.jsx)("span",{children:"Total Amount:"}),(0,S.jsxs)("span",{children:["\xa3",v.toFixed(2)]})]})]}),(0,S.jsxs)("div",{className:"order-notice",children:[(0,S.jsxs)("p",{children:["* Minimum order: \xa3",10..toFixed(2)]}),(0,S.jsxs)("p",{children:["* Maximum ",20," items per order"]})]}),d.general&&(0,S.jsx)("div",{className:"error-message general",children:d.general}),(0,S.jsx)("button",{type:"submit",className:"submit-button",disabled:p,children:p?(0,S.jsx)("span",{children:"Processing..."}):(0,S.jsxs)("span",{children:["Proceed to Payment \u2022 \xa3",v.toFixed(2)]})})]}),(0,S.jsx)("div",{className:"terms-section",children:(0,S.jsxs)("p",{children:["By proceeding, you agree to our"," ",(0,S.jsx)("a",{href:"/terms",className:"link",children:"Terms & Conditions"})," ","and"," ",(0,S.jsx)("a",{href:"/privacy",className:"link",children:"Privacy Policy"})]})})]})]})})}},1991:(e,s,r)=>{r.d(s,{A:()=>i});r(5043);var a=r(579);const i=e=>{let{currentStep:s}=e;return(0,a.jsxs)("div",{className:"progress-steps",children:[(0,a.jsxs)("div",{className:"progress-step-wrapper",children:[(0,a.jsxs)("div",{className:"progress-step-container",children:[(0,a.jsx)("div",{className:"progress-step-circle "+(s>=1?"active":""),children:"1"}),(0,a.jsx)("div",{className:"progress-line "+(s>=2?"active":"")})]}),(0,a.jsx)("span",{className:"progress-step-label",children:"Order Details"})]}),(0,a.jsxs)("div",{className:"progress-step-wrapper",children:[(0,a.jsxs)("div",{className:"progress-step-container",children:[(0,a.jsx)("div",{className:"progress-step-circle "+(s>=2?"active":""),children:"2"}),(0,a.jsx)("div",{className:"progress-line "+(s>=3?"active":"")})]}),(0,a.jsx)("span",{className:"progress-step-label",children:"Payment"})]}),(0,a.jsxs)("div",{className:"progress-step-wrapper",children:[(0,a.jsx)("div",{className:"progress-step-container",children:(0,a.jsx)("div",{className:"progress-step-circle "+(s>=3?"active":""),children:"3"})}),(0,a.jsx)("span",{className:"progress-step-label",children:"Confirmation"})]})]})}}}]);
//# sourceMappingURL=350.509c8e8f.chunk.js.map