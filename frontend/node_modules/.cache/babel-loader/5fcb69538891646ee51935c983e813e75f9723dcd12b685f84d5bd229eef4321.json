{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rui Seca\\\\savannah-bites\\\\frontend\\\\src\\\\components\\\\MenuPage\\\\index.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useCallback, useMemo } from \"react\";\nimport \"./styles.css\";\nimport { useCart } from \"../../context/CartContext\";\n\n// Import images\nimport suyaSkewersImage from \"../../images/suya-skewers.png\";\nimport jollofRiceImage from \"../../images/jollof-rice.jpg\";\nimport malvaPuddingImage from \"../../images/malva-pudding.png\";\nimport moiMoiImage from \"../../images/moi-moi.jpg\";\nimport puffPuffImage from \"../../images/puff-puff.jpg\";\nimport egusiSoupImage from \"../../images/egusi-soup.jpg\";\nimport jamaicanPattiesImage from \"../../images/jamaican-patties.jpg\";\nimport caluluImage from \"../../images/calulu.jpg\";\nimport cachupaImage from \"../../images/cachupa.jpg\";\nimport chinChinImage from \"../../images/chin-chin.jpg\";\nimport bananaFlambeImage from \"../../images/banana-flambe.jpg\";\nimport randburgSunImage from \"../../images/randburg-sun.jpg\"; // Added for Randburg Sun\nimport waterImage from \"../../images/water.jpg\";\nimport cokeImage from \"../../images/coca-cola.jpg\";\nimport iceTeaImage from \"../../images/ice-tea.jpg\";\nimport compalImage from \"../../images/compal.jpg\"; // Added for Compal\nimport strawberryShakeImage from \"../../images/strawberry-milkshake.jpg\";\nimport chocolateShakeImage from \"../../images/chocolate-milkshake.jpg\";\nimport vanillaShakeImage from \"../../images/vanilla-milkshake.jpg\";\nimport oreoShakeImage from \"../../images/oreo-milkshake.jpg\"; // Added for Oreo Milkshake\nimport summersBeerImage from \"../../images/apple-somersby.jpg\";\nimport superBockImage from \"../../images/super-bock.jpg\";\nimport stellaImage from \"../../images/stella-artois.jpg\";\nimport cucaImage from \"../../images/cuca.jpg\"; // Added for Cuca\n\n// Image mapping\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst images = {\n  \"suya-skewers.png\": suyaSkewersImage,\n  \"jollof-rice.jpg\": jollofRiceImage,\n  \"malva-pudding.png\": malvaPuddingImage,\n  \"moi-moi.jpg\": moiMoiImage,\n  \"puff-puff.jpg\": puffPuffImage,\n  \"jamaican-patties.jpg\": jamaicanPattiesImage,\n  \"egusi-soup.jpg\": egusiSoupImage,\n  \"calulu.jpg\": caluluImage,\n  \"cachupa.jpg\": cachupaImage,\n  \"chin-chin.jpg\": chinChinImage,\n  \"banana-flambe.jpg\": bananaFlambeImage,\n  \"randburg-sun.jpg\": randburgSunImage,\n  \"water.jpg\": waterImage,\n  \"coca-cola.jpg\": cokeImage,\n  \"ice-tea.jpg\": iceTeaImage,\n  \"compal.jpg\": compalImage,\n  \"strawberry-milkshake.jpg\": strawberryShakeImage,\n  \"chocolate-milkshake.jpg\": chocolateShakeImage,\n  \"vanilla-milkshake.jpg\": vanillaShakeImage,\n  \"oreo-milkshake.jpg\": oreoShakeImage,\n  \"apple-somersby.jpg\": summersBeerImage,\n  \"super-bock.jpg\": superBockImage,\n  \"stella-artois.jpg\": stellaImage,\n  \"cuca.jpg\": cucaImage\n};\n\n// Category ordering\nconst categoryOrder = {\n  Starters: 1,\n  \"Main Dishes\": 2,\n  Desserts: 3,\n  \"Soft Drinks\": 4,\n  Milkshakes: 5,\n  \"Alcoholic Drinks\": 6\n};\n\n// Helper functions\nconst getImage = filename => images[filename] || \"https://via.placeholder.com/150\";\nconst formatPrice = price => {\n  if (!price) return \"N/A\";\n  if (typeof price === \"object\") {\n    const smallPrice = price.small;\n    const mediumPrice = price.medium;\n    const largePrice = price.large;\n    if (smallPrice && mediumPrice && largePrice) {\n      return `£${smallPrice.toFixed(2)} - £${largePrice.toFixed(2)}`;\n    } else {\n      return `£${(smallPrice || mediumPrice || largePrice).toFixed(2)}`;\n    }\n  }\n  return `£${price.toFixed(2)}`;\n};\nfunction MenuPage() {\n  _s();\n  // State management\n  const [menuItems, setMenuItems] = useState([]);\n  const [selectedDish, setSelectedDish] = useState(null);\n  const [menuLoading, setMenuLoading] = useState(true);\n  const [menuError, setMenuError] = useState(false);\n  const [menuErrorMessage, setMenuErrorMessage] = useState(\"\");\n  const [selectedSize, setSelectedSize] = useState(null);\n  const [showSizeModal, setShowSizeModal] = useState(false);\n  const [activeItem, setActiveItem] = useState(null);\n  const {\n    addToCart\n  } = useCart();\n\n  // Sort menu items by category order\n  const sortedMenuItems = useMemo(() => {\n    return [...menuItems].sort((a, b) => {\n      const orderA = categoryOrder[a.category] || 999;\n      const orderB = categoryOrder[b.category] || 999;\n      return orderA - orderB;\n    });\n  }, [menuItems]);\n\n  // Fetch menu data function update\n  const fetchMenu = useCallback(async () => {\n    try {\n      var _response$headers$get;\n      setMenuLoading(true);\n      setMenuError(false);\n      const apiUrl = `${process.env.REACT_APP_API_BASE_URL}/api/menu`;\n      console.log(\"Fetching menu from:\", apiUrl);\n      const response = await fetch(apiUrl);\n      console.log(\"Response type:\", response.headers.get(\"content-type\"));\n      if (!((_response$headers$get = response.headers.get(\"content-type\")) !== null && _response$headers$get !== void 0 && _response$headers$get.includes(\"application/json\"))) {\n        const text = await response.text();\n        console.error(\"Received non-JSON response:\", text);\n        throw new Error(\"Invalid response format\");\n      }\n      const data = await response.json();\n      if (!response.ok) {\n        throw new Error(data.message || `HTTP error! status: ${response.status}`);\n      }\n      if (Array.isArray(data.data)) {\n        setMenuItems(data.data);\n      } else {\n        console.error(\"Unexpected data format:\", data);\n        throw new Error(\"Invalid data format\");\n      }\n    } catch (error) {\n      console.error(\"Error fetching menu items:\", error);\n      setMenuError(true);\n      setMenuErrorMessage(error.message || \"Failed to load menu items\");\n    } finally {\n      setMenuLoading(false);\n    }\n  }, []);\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  useEffect(() => {\n    fetchMenu();\n  }, [fetchMenu]);\n\n  // Handle view more details\n  const handleDishClick = dish => {\n    setSelectedDish(dish);\n  };\n\n  // Handle adding item to cart\n  const handleAddToCart = useCallback((item, selectedSize = null) => {\n    let price;\n    if (selectedSize) {\n      price = item.price[selectedSize];\n    } else {\n      price = typeof item.price === \"object\" ? item.price.small : item.price;\n    }\n    const itemToAdd = {\n      ...item,\n      id: item._id,\n      selectedPrice: price,\n      size: selectedSize || (typeof item.price === \"object\" ? \"small\" : null)\n    };\n    addToCart(itemToAdd);\n    setShowSizeModal(false);\n    setSelectedSize(null);\n  }, [addToCart]);\n\n  // Handle size selection\n  const handleSizeSelect = (item, size) => {\n    setSelectedSize(size);\n    handleAddToCart(item, size);\n  };\n\n  // Open size selection modal\n  const openSizeModal = item => {\n    setActiveItem(item);\n    setShowSizeModal(true);\n  };\n\n  // Loading state\n  if (menuLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-spinner\",\n        children: \"Loading menu...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Error state\n  if (menuError) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"error-message\",\n        children: menuErrorMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"retry-button\",\n        onClick: fetchMenu,\n        disabled: menuLoading,\n        children: \"Retry Loading Menu\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Main render\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"menu-page-wrapper\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"menu-page\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"menu-header\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"menu-title\",\n            children: \"Savannah Delicious Online Menu\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"tagline\",\n            children: \"Deliver to you at Savannah Bites\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"menu-categories\",\n        children: sortedMenuItems.length > 0 ? sortedMenuItems.map(category => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"menu-category\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"category-title\",\n            children: category.category\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"menu-items\",\n            children: category.items.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"menu-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: getImage(item.image),\n                alt: item.name,\n                className: \"menu-item-image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"menu-item-details\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: item.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 248,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"price\",\n                  children: formatPrice(item.price)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 249,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"menu-item-buttons\",\n                  children: [typeof item.price === \"object\" ? /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"size-button\",\n                    onClick: () => openSizeModal(item),\n                    \"aria-label\": `Choose size for ${item.name}`,\n                    children: \"Choose Size\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 252,\n                    columnNumber: 29\n                  }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"add-to-cart-button\",\n                    onClick: () => handleAddToCart(item),\n                    \"aria-label\": `Add ${item.name} to cart`,\n                    children: \"Add to Cart\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 260,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"view-more-button\",\n                    onClick: () => handleDishClick(item),\n                    \"aria-label\": `View details of ${item.name}`,\n                    children: \"View More\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 268,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 250,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 23\n              }, this)]\n            }, item._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 17\n          }, this)]\n        }, category.category, true, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 15\n        }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"no-items-message\",\n          children: \"No menu items available at the moment.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }, this), showSizeModal && activeItem && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-overlay\",\n        onClick: () => setShowSizeModal(false),\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"size-modal\",\n          onClick: e => e.stopPropagation(),\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"close-button\",\n            onClick: () => setShowSizeModal(false),\n            \"aria-label\": \"Close size selection\",\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: activeItem.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Select a Size:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"size-options\",\n            children: Object.entries(activeItem.price).map(([size, price]) => /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `size-option ${selectedSize === size ? \"selected\" : \"\"}`,\n              onClick: () => handleSizeSelect(activeItem, size),\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"size-name\",\n                children: size.charAt(0).toUpperCase() + size.slice(1)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"size-price\",\n                children: [\"\\xA3\", price.toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 21\n              }, this)]\n            }, size, true, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 11\n      }, this), selectedDish && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-overlay\",\n        onClick: () => setSelectedDish(null),\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dish-details-modal\",\n          onClick: e => e.stopPropagation(),\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"close-button\",\n              onClick: () => setSelectedDish(null),\n              \"aria-label\": \"Close dish details\",\n              children: \"\\xD7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              children: selectedDish.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              src: getImage(selectedDish.image),\n              alt: selectedDish.name,\n              className: \"modal-image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"description\",\n              children: selectedDish.description || \"No description available.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"ingredients\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Ingredients:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 350,\n                columnNumber: 19\n              }, this), \" \", selectedDish.ingredients || \"Not available.\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 17\n            }, this), selectedDish.story && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"story\",\n              children: selectedDish.story\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 354,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"modal-price\",\n              children: formatPrice(selectedDish.price)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 17\n            }, this), typeof selectedDish.price === \"object\" ? /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"modal-size-button\",\n              onClick: () => {\n                setSelectedDish(null);\n                openSizeModal(selectedDish);\n              },\n              children: \"Choose Size\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"modal-add-button\",\n              onClick: () => {\n                handleAddToCart(selectedDish);\n                setSelectedDish(null);\n              },\n              children: \"Add to Cart\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 225,\n    columnNumber: 5\n  }, this);\n}\n_s(MenuPage, \"Yh2Navn42jgKpWZ/0dUpGTRgRas=\", false, function () {\n  return [useCart];\n});\n_c = MenuPage;\nexport default MenuPage;\nvar _c;\n$RefreshReg$(_c, \"MenuPage\");","map":{"version":3,"names":["React","useEffect","useState","useCallback","useMemo","useCart","suyaSkewersImage","jollofRiceImage","malvaPuddingImage","moiMoiImage","puffPuffImage","egusiSoupImage","jamaicanPattiesImage","caluluImage","cachupaImage","chinChinImage","bananaFlambeImage","randburgSunImage","waterImage","cokeImage","iceTeaImage","compalImage","strawberryShakeImage","chocolateShakeImage","vanillaShakeImage","oreoShakeImage","summersBeerImage","superBockImage","stellaImage","cucaImage","jsxDEV","_jsxDEV","images","categoryOrder","Starters","Desserts","Milkshakes","getImage","filename","formatPrice","price","smallPrice","small","mediumPrice","medium","largePrice","large","toFixed","MenuPage","_s","menuItems","setMenuItems","selectedDish","setSelectedDish","menuLoading","setMenuLoading","menuError","setMenuError","menuErrorMessage","setMenuErrorMessage","selectedSize","setSelectedSize","showSizeModal","setShowSizeModal","activeItem","setActiveItem","addToCart","sortedMenuItems","sort","a","b","orderA","category","orderB","fetchMenu","_response$headers$get","apiUrl","process","env","REACT_APP_API_BASE_URL","console","log","response","fetch","headers","get","includes","text","error","Error","data","json","ok","message","status","Array","isArray","handleDishClick","dish","handleAddToCart","item","itemToAdd","id","_id","selectedPrice","size","handleSizeSelect","openSizeModal","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","length","map","items","src","image","alt","name","e","stopPropagation","Object","entries","charAt","toUpperCase","slice","description","ingredients","story","_c","$RefreshReg$"],"sources":["C:/Users/Rui Seca/savannah-bites/frontend/src/components/MenuPage/index.jsx"],"sourcesContent":["import React, { useEffect, useState, useCallback, useMemo } from \"react\";\r\nimport \"./styles.css\";\r\nimport { useCart } from \"../../context/CartContext\";\r\n\r\n// Import images\r\nimport suyaSkewersImage from \"../../images/suya-skewers.png\";\r\nimport jollofRiceImage from \"../../images/jollof-rice.jpg\";\r\nimport malvaPuddingImage from \"../../images/malva-pudding.png\";\r\nimport moiMoiImage from \"../../images/moi-moi.jpg\";\r\nimport puffPuffImage from \"../../images/puff-puff.jpg\";\r\nimport egusiSoupImage from \"../../images/egusi-soup.jpg\";\r\nimport jamaicanPattiesImage from \"../../images/jamaican-patties.jpg\";\r\nimport caluluImage from \"../../images/calulu.jpg\";\r\nimport cachupaImage from \"../../images/cachupa.jpg\";\r\nimport chinChinImage from \"../../images/chin-chin.jpg\";\r\nimport bananaFlambeImage from \"../../images/banana-flambe.jpg\";\r\nimport randburgSunImage from \"../../images/randburg-sun.jpg\"; // Added for Randburg Sun\r\nimport waterImage from \"../../images/water.jpg\";\r\nimport cokeImage from \"../../images/coca-cola.jpg\";\r\nimport iceTeaImage from \"../../images/ice-tea.jpg\";\r\nimport compalImage from \"../../images/compal.jpg\"; // Added for Compal\r\nimport strawberryShakeImage from \"../../images/strawberry-milkshake.jpg\";\r\nimport chocolateShakeImage from \"../../images/chocolate-milkshake.jpg\";\r\nimport vanillaShakeImage from \"../../images/vanilla-milkshake.jpg\";\r\nimport oreoShakeImage from \"../../images/oreo-milkshake.jpg\"; // Added for Oreo Milkshake\r\nimport summersBeerImage from \"../../images/apple-somersby.jpg\";\r\nimport superBockImage from \"../../images/super-bock.jpg\";\r\nimport stellaImage from \"../../images/stella-artois.jpg\";\r\nimport cucaImage from \"../../images/cuca.jpg\"; // Added for Cuca\r\n\r\n// Image mapping\r\nconst images = {\r\n  \"suya-skewers.png\": suyaSkewersImage,\r\n  \"jollof-rice.jpg\": jollofRiceImage,\r\n  \"malva-pudding.png\": malvaPuddingImage,\r\n  \"moi-moi.jpg\": moiMoiImage,\r\n  \"puff-puff.jpg\": puffPuffImage,\r\n  \"jamaican-patties.jpg\": jamaicanPattiesImage,\r\n  \"egusi-soup.jpg\": egusiSoupImage,\r\n  \"calulu.jpg\": caluluImage,\r\n  \"cachupa.jpg\": cachupaImage,\r\n  \"chin-chin.jpg\": chinChinImage,\r\n  \"banana-flambe.jpg\": bananaFlambeImage,\r\n  \"randburg-sun.jpg\": randburgSunImage,\r\n  \"water.jpg\": waterImage,\r\n  \"coca-cola.jpg\": cokeImage,\r\n  \"ice-tea.jpg\": iceTeaImage,\r\n  \"compal.jpg\": compalImage,\r\n  \"strawberry-milkshake.jpg\": strawberryShakeImage,\r\n  \"chocolate-milkshake.jpg\": chocolateShakeImage,\r\n  \"vanilla-milkshake.jpg\": vanillaShakeImage,\r\n  \"oreo-milkshake.jpg\": oreoShakeImage,\r\n  \"apple-somersby.jpg\": summersBeerImage,\r\n  \"super-bock.jpg\": superBockImage,\r\n  \"stella-artois.jpg\": stellaImage,\r\n  \"cuca.jpg\": cucaImage,\r\n};\r\n\r\n// Category ordering\r\nconst categoryOrder = {\r\n  Starters: 1,\r\n  \"Main Dishes\": 2,\r\n  Desserts: 3,\r\n  \"Soft Drinks\": 4,\r\n  Milkshakes: 5,\r\n  \"Alcoholic Drinks\": 6,\r\n};\r\n\r\n// Helper functions\r\nconst getImage = (filename) =>\r\n  images[filename] || \"https://via.placeholder.com/150\";\r\n\r\nconst formatPrice = (price) => {\r\n  if (!price) return \"N/A\";\r\n  if (typeof price === \"object\") {\r\n    const smallPrice = price.small;\r\n    const mediumPrice = price.medium;\r\n    const largePrice = price.large;\r\n\r\n    if (smallPrice && mediumPrice && largePrice) {\r\n      return `£${smallPrice.toFixed(2)} - £${largePrice.toFixed(2)}`;\r\n    } else {\r\n      return `£${(smallPrice || mediumPrice || largePrice).toFixed(2)}`;\r\n    }\r\n  }\r\n  return `£${price.toFixed(2)}`;\r\n};\r\n\r\nfunction MenuPage() {\r\n  // State management\r\n  const [menuItems, setMenuItems] = useState([]);\r\n  const [selectedDish, setSelectedDish] = useState(null);\r\n  const [menuLoading, setMenuLoading] = useState(true);\r\n  const [menuError, setMenuError] = useState(false);\r\n  const [menuErrorMessage, setMenuErrorMessage] = useState(\"\");\r\n  const [selectedSize, setSelectedSize] = useState(null);\r\n  const [showSizeModal, setShowSizeModal] = useState(false);\r\n  const [activeItem, setActiveItem] = useState(null);\r\n  const { addToCart } = useCart();\r\n\r\n  // Sort menu items by category order\r\n  const sortedMenuItems = useMemo(() => {\r\n    return [...menuItems].sort((a, b) => {\r\n      const orderA = categoryOrder[a.category] || 999;\r\n      const orderB = categoryOrder[b.category] || 999;\r\n      return orderA - orderB;\r\n    });\r\n  }, [menuItems]);\r\n\r\n  // Fetch menu data function update\r\n  const fetchMenu = useCallback(async () => {\r\n    try {\r\n      setMenuLoading(true);\r\n      setMenuError(false);\r\n\r\n      const apiUrl = `${process.env.REACT_APP_API_BASE_URL}/api/menu`;\r\n      console.log(\"Fetching menu from:\", apiUrl);\r\n\r\n      const response = await fetch(apiUrl);\r\n\r\n      console.log(\"Response type:\", response.headers.get(\"content-type\"));\r\n\r\n      if (!response.headers.get(\"content-type\")?.includes(\"application/json\")) {\r\n        const text = await response.text();\r\n        console.error(\"Received non-JSON response:\", text);\r\n        throw new Error(\"Invalid response format\");\r\n      }\r\n\r\n      const data = await response.json();\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\r\n          data.message || `HTTP error! status: ${response.status}`\r\n        );\r\n      }\r\n\r\n      if (Array.isArray(data.data)) {\r\n        setMenuItems(data.data);\r\n      } else {\r\n        console.error(\"Unexpected data format:\", data);\r\n        throw new Error(\"Invalid data format\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error fetching menu items:\", error);\r\n      setMenuError(true);\r\n      setMenuErrorMessage(error.message || \"Failed to load menu items\");\r\n    } finally {\r\n      setMenuLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  useEffect(() => {\r\n    fetchMenu();\r\n  }, [fetchMenu]);\r\n\r\n  // Handle view more details\r\n  const handleDishClick = (dish) => {\r\n    setSelectedDish(dish);\r\n  };\r\n\r\n  // Handle adding item to cart\r\n  const handleAddToCart = useCallback(\r\n    (item, selectedSize = null) => {\r\n      let price;\r\n      if (selectedSize) {\r\n        price = item.price[selectedSize];\r\n      } else {\r\n        price = typeof item.price === \"object\" ? item.price.small : item.price;\r\n      }\r\n\r\n      const itemToAdd = {\r\n        ...item,\r\n        id: item._id,\r\n        selectedPrice: price,\r\n        size: selectedSize || (typeof item.price === \"object\" ? \"small\" : null),\r\n      };\r\n\r\n      addToCart(itemToAdd);\r\n      setShowSizeModal(false);\r\n      setSelectedSize(null);\r\n    },\r\n    [addToCart]\r\n  );\r\n\r\n  // Handle size selection\r\n  const handleSizeSelect = (item, size) => {\r\n    setSelectedSize(size);\r\n    handleAddToCart(item, size);\r\n  };\r\n\r\n  // Open size selection modal\r\n  const openSizeModal = (item) => {\r\n    setActiveItem(item);\r\n    setShowSizeModal(true);\r\n  };\r\n\r\n  // Loading state\r\n  if (menuLoading) {\r\n    return (\r\n      <div className=\"loading-container\">\r\n        <div className=\"loading-spinner\">Loading menu...</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Error state\r\n  if (menuError) {\r\n    return (\r\n      <div className=\"error-container\">\r\n        <p className=\"error-message\">{menuErrorMessage}</p>\r\n        <button\r\n          className=\"retry-button\"\r\n          onClick={fetchMenu}\r\n          disabled={menuLoading}\r\n        >\r\n          Retry Loading Menu\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Main render\r\n  return (\r\n    <div className=\"menu-page-wrapper\">\r\n      <div className=\"menu-page\">\r\n        <header className=\"menu-header\">\r\n          <div className=\"header-content\">\r\n            <h1 className=\"menu-title\">Savannah Delicious Online Menu</h1>\r\n            <p className=\"tagline\">Deliver to you at Savannah Bites</p>\r\n          </div>\r\n        </header>\r\n\r\n        <div className=\"menu-categories\">\r\n          {sortedMenuItems.length > 0 ? (\r\n            sortedMenuItems.map((category) => (\r\n              <div key={category.category} className=\"menu-category\">\r\n                <h2 className=\"category-title\">{category.category}</h2>\r\n                <div className=\"menu-items\">\r\n                  {category.items.map((item) => (\r\n                    <div key={item._id} className=\"menu-item\">\r\n                      <img\r\n                        src={getImage(item.image)}\r\n                        alt={item.name}\r\n                        className=\"menu-item-image\"\r\n                      />\r\n                      <div className=\"menu-item-details\">\r\n                        <h3>{item.name}</h3>\r\n                        <p className=\"price\">{formatPrice(item.price)}</p>\r\n                        <div className=\"menu-item-buttons\">\r\n                          {typeof item.price === \"object\" ? (\r\n                            <button\r\n                              className=\"size-button\"\r\n                              onClick={() => openSizeModal(item)}\r\n                              aria-label={`Choose size for ${item.name}`}\r\n                            >\r\n                              Choose Size\r\n                            </button>\r\n                          ) : (\r\n                            <button\r\n                              className=\"add-to-cart-button\"\r\n                              onClick={() => handleAddToCart(item)}\r\n                              aria-label={`Add ${item.name} to cart`}\r\n                            >\r\n                              Add to Cart\r\n                            </button>\r\n                          )}\r\n                          <button\r\n                            className=\"view-more-button\"\r\n                            onClick={() => handleDishClick(item)}\r\n                            aria-label={`View details of ${item.name}`}\r\n                          >\r\n                            View More\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            ))\r\n          ) : (\r\n            <p className=\"no-items-message\">\r\n              No menu items available at the moment.\r\n            </p>\r\n          )}\r\n        </div>\r\n\r\n        {/* Size Selection Modal */}\r\n        {showSizeModal && activeItem && (\r\n          <div\r\n            className=\"modal-overlay\"\r\n            onClick={() => setShowSizeModal(false)}\r\n          >\r\n            <div className=\"size-modal\" onClick={(e) => e.stopPropagation()}>\r\n              <button\r\n                className=\"close-button\"\r\n                onClick={() => setShowSizeModal(false)}\r\n                aria-label=\"Close size selection\"\r\n              >\r\n                ×\r\n              </button>\r\n              <h3>{activeItem.name}</h3>\r\n              <p>Select a Size:</p>\r\n              <div className=\"size-options\">\r\n                {Object.entries(activeItem.price).map(([size, price]) => (\r\n                  <button\r\n                    key={size}\r\n                    className={`size-option ${\r\n                      selectedSize === size ? \"selected\" : \"\"\r\n                    }`}\r\n                    onClick={() => handleSizeSelect(activeItem, size)}\r\n                  >\r\n                    <span className=\"size-name\">\r\n                      {size.charAt(0).toUpperCase() + size.slice(1)}\r\n                    </span>\r\n                    <span className=\"size-price\">£{price.toFixed(2)}</span>\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Dish Details Modal */}\r\n        {selectedDish && (\r\n          <div className=\"modal-overlay\" onClick={() => setSelectedDish(null)}>\r\n            <div\r\n              className=\"dish-details-modal\"\r\n              onClick={(e) => e.stopPropagation()}\r\n            >\r\n              <div className=\"modal-content\">\r\n                <button\r\n                  className=\"close-button\"\r\n                  onClick={() => setSelectedDish(null)}\r\n                  aria-label=\"Close dish details\"\r\n                >\r\n                  ×\r\n                </button>\r\n                <h2>{selectedDish.name}</h2>\r\n                <img\r\n                  src={getImage(selectedDish.image)}\r\n                  alt={selectedDish.name}\r\n                  className=\"modal-image\"\r\n                />\r\n                <p className=\"description\">\r\n                  {selectedDish.description || \"No description available.\"}\r\n                </p>\r\n                <p className=\"ingredients\">\r\n                  <strong>Ingredients:</strong>{\" \"}\r\n                  {selectedDish.ingredients || \"Not available.\"}\r\n                </p>\r\n                {selectedDish.story && (\r\n                  <p className=\"story\">{selectedDish.story}</p>\r\n                )}\r\n                <p className=\"modal-price\">{formatPrice(selectedDish.price)}</p>\r\n                {typeof selectedDish.price === \"object\" ? (\r\n                  <button\r\n                    className=\"modal-size-button\"\r\n                    onClick={() => {\r\n                      setSelectedDish(null);\r\n                      openSizeModal(selectedDish);\r\n                    }}\r\n                  >\r\n                    Choose Size\r\n                  </button>\r\n                ) : (\r\n                  <button\r\n                    className=\"modal-add-button\"\r\n                    onClick={() => {\r\n                      handleAddToCart(selectedDish);\r\n                      setSelectedDish(null);\r\n                    }}\r\n                  >\r\n                    Add to Cart\r\n                  </button>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MenuPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}