{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rui Seca\\\\savannah-bites\\\\frontend\\\\src\\\\components\\\\CheckoutPage\\\\index.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useCallback, useMemo } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useCart } from \"../../context/CartContext\";\nimport ProgressSteps from \"../ProgressSteps/index.jsx\";\nimport \"./styles.css\";\n\n// Import images\nimport suyaSkewersImage from \"../../images/suya-skewers.png\";\nimport jollofRiceImage from \"../../images/jollof-rice.jpg\";\nimport malvaPuddingImage from \"../../images/malva-pudding.png\";\nimport moiMoiImage from \"../../images/moi-moi.jpg\";\nimport puffPuffImage from \"../../images/puff-puff.jpg\";\nimport egusiSoupImage from \"../../images/egusi-soup.jpg\";\nimport jamaicanPattiesImage from \"../../images/jamaican-patties.jpg\";\nimport caluluImage from \"../../images/calulu.jpg\";\nimport cachupaImage from \"../../images/cachupa.jpg\";\nimport chinChinImage from \"../../images/chin-chin.jpg\";\nimport bananaFlambeImage from \"../../images/banana-flambe.jpg\";\nimport randburgSunImage from \"../../images/randburg-sun.jpg\"; // Added for Randburg Sun\nimport waterImage from \"../../images/water.jpg\";\nimport cokeImage from \"../../images/coca-cola.jpg\";\nimport iceTeaImage from \"../../images/ice-tea.jpg\";\nimport compalImage from \"../../images/compal.jpg\"; // Added for Compal\nimport strawberryShakeImage from \"../../images/strawberry-milkshake.jpg\";\nimport chocolateShakeImage from \"../../images/chocolate-milkshake.jpg\";\nimport vanillaShakeImage from \"../../images/vanilla-milkshake.jpg\";\nimport oreoShakeImage from \"../../images/oreo-milkshake.jpg\"; // Added for Oreo Milkshake\nimport summersBeerImage from \"../../images/apple-somersby.jpg\";\nimport superBockImage from \"../../images/super-bock.jpg\";\nimport stellaImage from \"../../images/stella-artois.jpg\";\nimport cucaImage from \"../../images/cuca.jpg\"; // Added for Cuca\n\n// Image mapping\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst images = {\n  \"suya-skewers.png\": suyaSkewersImage,\n  \"jollof-rice.jpg\": jollofRiceImage,\n  \"malva-pudding.png\": malvaPuddingImage,\n  \"moi-moi.jpg\": moiMoiImage,\n  \"puff-puff.jpg\": puffPuffImage,\n  \"jamaican-patties.jpg\": jamaicanPattiesImage,\n  \"egusi-soup.jpg\": egusiSoupImage,\n  \"calulu.jpg\": caluluImage,\n  \"cachupa.jpg\": cachupaImage,\n  \"chin-chin.jpg\": chinChinImage,\n  \"banana-flambe.jpg\": bananaFlambeImage,\n  \"randburg-sun.jpg\": randburgSunImage,\n  \"water.jpg\": waterImage,\n  \"coca-cola.jpg\": cokeImage,\n  \"ice-tea.jpg\": iceTeaImage,\n  \"compal.jpg\": compalImage,\n  \"strawberry-milkshake.jpg\": strawberryShakeImage,\n  \"chocolate-milkshake.jpg\": chocolateShakeImage,\n  \"vanilla-milkshake.jpg\": vanillaShakeImage,\n  \"oreo-milkshake.jpg\": oreoShakeImage,\n  \"apple-somersby.jpg\": summersBeerImage,\n  \"super-bock.jpg\": superBockImage,\n  \"stella-artois.jpg\": stellaImage,\n  \"cuca.jpg\": cucaImage\n};\nconst getImage = filename => images[filename] || \"https://via.placeholder.com/150\";\nconst DELIVERY_FEE = 2.5;\nconst MINIMUM_ORDER_AMOUNT = 10.0;\nconst MAX_ITEMS_PER_ORDER = 20;\nconst DELIVERY_SLOTS = [\"10:00 AM - 12:00 PM\", \"12:00 PM - 2:00 PM\", \"2:00 PM - 4:00 PM\", \"4:00 PM - 6:00 PM\", \"6:00 PM - 8:00 PM\"];\nconst initialFormData = {\n  name: \"\",\n  email: \"\",\n  phone: \"\",\n  street: \"\",\n  city: \"\",\n  postcode: \"\",\n  deliveryTime: \"\",\n  specialInstructions: \"\"\n};\nconst validateUKPostcode = postcode => {\n  const postcodeRegex = /^[A-Z]{1,2}[0-9][A-Z0-9]? ?[0-9][A-Z]{2}$/i;\n  return postcodeRegex.test(postcode.trim());\n};\nconst validateEmail = email => {\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  return emailRegex.test(email);\n};\nconst validatePhone = phone => {\n  const phoneRegex = /^[\\d\\s]{11,14}$/;\n  return phoneRegex.test(phone);\n};\nfunction CheckoutPage() {\n  _s();\n  const {\n    cart,\n    removeFromCart,\n    updateQuantity\n  } = useCart();\n  const navigate = useNavigate();\n  const [formData, setFormData] = useState(initialFormData);\n  const [errors, setErrors] = useState({});\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  // Format phone number as user types\n  const formatPhoneNumber = useCallback(value => {\n    const phoneNumber = value.replace(/\\D/g, \"\");\n    if (phoneNumber.length <= 3) return phoneNumber;\n    if (phoneNumber.length <= 7) return `${phoneNumber.slice(0, 3)} ${phoneNumber.slice(3)}`;\n    return `${phoneNumber.slice(0, 3)} ${phoneNumber.slice(3, 7)} ${phoneNumber.slice(7, 11)}`;\n  }, []);\n\n  // Handle all input changes\n  const handleInputChange = useCallback(e => {\n    const {\n      id,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [id]: id === \"phone\" ? formatPhoneNumber(value) : value\n    }));\n\n    // Clear errors for the changed field\n    setErrors(prev => ({\n      ...prev,\n      [id]: \"\",\n      general: \"\"\n    }));\n  }, [formatPhoneNumber]);\n\n  // Calculate cart totals\n  const {\n    subtotal,\n    totalPrice\n  } = useMemo(() => {\n    const subtotal = cart.reduce((total, item) => {\n      const price = item.selectedPrice || item.price;\n      return total + price * item.quantity;\n    }, 0);\n    return {\n      subtotal,\n      totalPrice: subtotal + DELIVERY_FEE\n    };\n  }, [cart]);\n\n  // Quantity handlers\n  const handleQuantityChange = useCallback((itemId, newQuantity, size) => {\n    if (newQuantity >= 1) {\n      updateQuantity(itemId, newQuantity, size);\n    }\n  }, [updateQuantity]);\n\n  // Validate form data\n  const validateForm = useCallback(() => {\n    const newErrors = {};\n\n    // Name validation\n    if (!formData.name.trim()) {\n      newErrors.name = \"Name is required\";\n    }\n\n    // Email validation\n    if (!formData.email) {\n      newErrors.email = \"Email is required\";\n    } else if (!validateEmail(formData.email)) {\n      newErrors.email = \"Please enter a valid email address\";\n    }\n\n    // Phone validation\n    if (!formData.phone) {\n      newErrors.phone = \"Phone number is required\";\n    } else if (!validatePhone(formData.phone)) {\n      newErrors.phone = \"Please enter a valid UK phone number\";\n    }\n\n    // Address validation\n    if (!formData.street.trim()) {\n      newErrors.street = \"Street address is required\";\n    }\n    if (!formData.city.trim()) {\n      newErrors.city = \"City is required\";\n    }\n    if (!formData.postcode.trim()) {\n      newErrors.postcode = \"Postcode is required\";\n    } else if (!validateUKPostcode(formData.postcode)) {\n      newErrors.postcode = \"Please enter a valid UK postcode\";\n    }\n\n    // Delivery time validation\n    if (!formData.deliveryTime) {\n      newErrors.deliveryTime = \"Please select a delivery time\";\n    }\n\n    // Order amount validation\n    if (subtotal < MINIMUM_ORDER_AMOUNT) {\n      newErrors.general = `Minimum order amount is Â£${MINIMUM_ORDER_AMOUNT.toFixed(2)}`;\n    }\n    const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);\n    if (totalItems > MAX_ITEMS_PER_ORDER) {\n      newErrors.general = `Maximum ${MAX_ITEMS_PER_ORDER} items allowed per order`;\n    }\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  }, [formData, subtotal, cart]);\n\n  // Handle form submission\n  const handleSubmit = useCallback(async e => {\n    e.preventDefault();\n    if (!validateForm()) {\n      return;\n    }\n    if (cart.length === 0) {\n      setErrors({\n        general: \"Your cart is empty\"\n      });\n      return;\n    }\n    try {\n      setIsSubmitting(true);\n      navigate(\"/payment\", {\n        state: {\n          orderDetails: {\n            items: cart.map(item => ({\n              id: item.id,\n              name: item.name,\n              quantity: item.quantity,\n              price: item.selectedPrice || item.price,\n              size: item.size || \"regular\"\n            })),\n            customerInfo: {\n              name: formData.name,\n              email: formData.email,\n              phone: formData.phone,\n              address: formData.street,\n              city: formData.city,\n              postcode: formData.postcode.toUpperCase(),\n              deliveryTime: formData.deliveryTime,\n              specialInstructions: formData.specialInstructions\n            },\n            subtotal,\n            deliveryFee: DELIVERY_FEE,\n            totalAmount: totalPrice,\n            orderDate: new Date().toISOString()\n          }\n        }\n      });\n    } catch (error) {\n      console.error(\"Checkout error:\", error);\n      setErrors({\n        general: \"There was an error processing your order. Please try again.\"\n      });\n    } finally {\n      setIsSubmitting(false);\n    }\n  }, [cart, formData, subtotal, totalPrice, navigate, validateForm]);\n\n  // Empty cart view\n  if (cart.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"checkout-page\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"checkout-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"page-title\",\n          children: \"Checkout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"empty-cart\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Your cart is empty\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"primary-button\",\n            onClick: () => navigate(\"/menu\"),\n            children: \"Return to Menu\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Main checkout view\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"checkout-page\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"checkout-container\",\n      children: [/*#__PURE__*/_jsxDEV(ProgressSteps, {\n        currentStep: 1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"checkout-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"back-button\",\n          onClick: () => navigate(-1),\n          children: \"\\u2190 Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Checkout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"order-summary\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Order Summary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"cart-items\",\n          children: cart.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"cart-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"item-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: getImage(item.image),\n                alt: item.name,\n                className: \"checkout-item-image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"item-name\",\n                children: [item.name, item.size && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"item-size\",\n                  children: [\"(\", item.size, \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 328,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"item-price\",\n                children: [\"\\xA3\", (item.selectedPrice || item.price).toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"quantity-controls\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => handleQuantityChange(item.id, item.quantity - 1, item.size),\n                className: \"quantity-btn\",\n                children: \"-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 337,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: item.quantity\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 350,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => handleQuantityChange(item.id, item.quantity + 1, item.size),\n                className: \"quantity-btn\",\n                children: \"+\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => removeFromCart(item.id, item.size),\n              className: \"remove-btn\",\n              children: \"Remove\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 366,\n              columnNumber: 17\n            }, this)]\n          }, `${item.id}-${item.size || \"default\"}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"price-summary\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"price-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Subtotal\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\xA3\", subtotal.toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"price-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Delivery Fee\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\xA3\", DELIVERY_FEE.toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"price-row total\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Total\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\xA3\", totalPrice.toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"delivery-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Delivery Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 395,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Contact Information\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-grid\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"name\",\n                children: \"Full Name *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 401,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                id: \"name\",\n                value: formData.name,\n                onChange: handleInputChange,\n                placeholder: \"Enter your full name\",\n                className: errors.name ? \"error\" : \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 402,\n                columnNumber: 17\n              }, this), errors.name && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"error-text\",\n                children: errors.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"email\",\n                children: \"Email Address *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 416,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"email\",\n                id: \"email\",\n                value: formData.email,\n                onChange: handleInputChange,\n                placeholder: \"Enter your email\",\n                className: errors.email ? \"error\" : \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 417,\n                columnNumber: 17\n              }, this), errors.email && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"error-text\",\n                children: errors.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 426,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 415,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"phone\",\n                children: \"Phone Number *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 431,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"tel\",\n                id: \"phone\",\n                value: formData.phone,\n                onChange: handleInputChange,\n                placeholder: \"Enter your phone number\",\n                className: errors.phone ? \"error\" : \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 432,\n                columnNumber: 17\n              }, this), errors.phone && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"error-text\",\n                children: errors.phone\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 441,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 430,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Delivery Address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 448,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"street\",\n              children: \"Street Address *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 450,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              id: \"street\",\n              value: formData.street,\n              onChange: handleInputChange,\n              placeholder: \"Enter your street address\",\n              rows: \"2\",\n              className: errors.street ? \"error\" : \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 451,\n              columnNumber: 15\n            }, this), errors.street && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"error-text\",\n              children: errors.street\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 460,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 449,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"address-grid\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"city\",\n                children: \"City *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 466,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                id: \"city\",\n                value: formData.city,\n                onChange: handleInputChange,\n                placeholder: \"Enter city\",\n                className: errors.city ? \"error\" : \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 467,\n                columnNumber: 17\n              }, this), errors.city && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"error-text\",\n                children: errors.city\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 476,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 465,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"postcode\",\n                children: \"Postcode *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 481,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                id: \"postcode\",\n                value: formData.postcode,\n                onChange: handleInputChange,\n                placeholder: \"Enter postcode\",\n                className: errors.postcode ? \"error\" : \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 482,\n                columnNumber: 17\n              }, this), errors.postcode && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"error-text\",\n                children: errors.postcode\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 491,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 480,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 464,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 447,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"summary-title\",\n            children: \"Delivery Options\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 498,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"deliveryTime\",\n              children: \"Preferred Delivery Time *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 501,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              id: \"deliveryTime\",\n              value: formData.deliveryTime,\n              onChange: handleInputChange,\n              className: errors.deliveryTime ? \"error\" : \"\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Select delivery time\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 508,\n                columnNumber: 17\n              }, this), DELIVERY_SLOTS.map(slot => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: slot,\n                children: slot\n              }, slot, false, {\n                fileName: _jsxFileName,\n                lineNumber: 510,\n                columnNumber: 19\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 502,\n              columnNumber: 15\n            }, this), errors.deliveryTime && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"error-message\",\n              children: errors.deliveryTime\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 516,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 500,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"specialInstructions\",\n              children: \"Special Instructions (Optional)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 521,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              id: \"specialInstructions\",\n              value: formData.specialInstructions,\n              onChange: handleInputChange,\n              placeholder: \"Add any special delivery instructions...\",\n              rows: \"3\",\n              className: \"special-instructions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 524,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 520,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"price-summary\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"price-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Subtotal:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 537,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\xA3\", subtotal.toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 538,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 536,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"price-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Delivery Fee:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 541,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\xA3\", DELIVERY_FEE.toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 542,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 540,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"price-row total\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Total Amount:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 545,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\xA3\", totalPrice.toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 546,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 544,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 535,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"order-notice\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"* Minimum order: \\xA3\", MINIMUM_ORDER_AMOUNT.toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 552,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"* Maximum \", MAX_ITEMS_PER_ORDER, \" items per order\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 553,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 551,\n            columnNumber: 13\n          }, this), errors.general && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"error-message general\",\n            children: errors.general\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 558,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"submit-button\",\n            disabled: isSubmitting,\n            children: isSubmitting ? /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Processing...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 568,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Proceed to Payment \\u2022 \\xA3\", totalPrice.toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 570,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 562,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 497,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"terms-section\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"By proceeding, you agree to our\", \" \", /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/terms\",\n              className: \"link\",\n              children: \"Terms & Conditions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 579,\n              columnNumber: 15\n            }, this), \" \", \"and\", \" \", /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/privacy\",\n              className: \"link\",\n              children: \"Privacy Policy\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 583,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 577,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 576,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 298,\n    columnNumber: 5\n  }, this);\n}\n_s(CheckoutPage, \"6MrrZ4DB9hRI8hYDvv/Y0K2QihI=\", false, function () {\n  return [useCart, useNavigate];\n});\n_c = CheckoutPage;\nexport default CheckoutPage;\nvar _c;\n$RefreshReg$(_c, \"CheckoutPage\");","map":{"version":3,"names":["React","useState","useCallback","useMemo","useNavigate","useCart","ProgressSteps","suyaSkewersImage","jollofRiceImage","malvaPuddingImage","moiMoiImage","puffPuffImage","egusiSoupImage","jamaicanPattiesImage","caluluImage","cachupaImage","chinChinImage","bananaFlambeImage","randburgSunImage","waterImage","cokeImage","iceTeaImage","compalImage","strawberryShakeImage","chocolateShakeImage","vanillaShakeImage","oreoShakeImage","summersBeerImage","superBockImage","stellaImage","cucaImage","jsxDEV","_jsxDEV","images","getImage","filename","DELIVERY_FEE","MINIMUM_ORDER_AMOUNT","MAX_ITEMS_PER_ORDER","DELIVERY_SLOTS","initialFormData","name","email","phone","street","city","postcode","deliveryTime","specialInstructions","validateUKPostcode","postcodeRegex","test","trim","validateEmail","emailRegex","validatePhone","phoneRegex","CheckoutPage","_s","cart","removeFromCart","updateQuantity","navigate","formData","setFormData","errors","setErrors","isSubmitting","setIsSubmitting","formatPhoneNumber","value","phoneNumber","replace","length","slice","handleInputChange","e","id","target","prev","general","subtotal","totalPrice","reduce","total","item","price","selectedPrice","quantity","handleQuantityChange","itemId","newQuantity","size","validateForm","newErrors","toFixed","totalItems","sum","Object","keys","handleSubmit","preventDefault","state","orderDetails","items","map","customerInfo","address","toUpperCase","deliveryFee","totalAmount","orderDate","Date","toISOString","error","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","currentStep","src","image","alt","type","onSubmit","htmlFor","onChange","placeholder","rows","slot","disabled","href","_c","$RefreshReg$"],"sources":["C:/Users/Rui Seca/savannah-bites/frontend/src/components/CheckoutPage/index.jsx"],"sourcesContent":["import React, { useState, useCallback, useMemo } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useCart } from \"../../context/CartContext\";\r\nimport ProgressSteps from \"../ProgressSteps/index.jsx\";\r\nimport \"./styles.css\";\r\n\r\n// Import images\r\nimport suyaSkewersImage from \"../../images/suya-skewers.png\";\r\nimport jollofRiceImage from \"../../images/jollof-rice.jpg\";\r\nimport malvaPuddingImage from \"../../images/malva-pudding.png\";\r\nimport moiMoiImage from \"../../images/moi-moi.jpg\";\r\nimport puffPuffImage from \"../../images/puff-puff.jpg\";\r\nimport egusiSoupImage from \"../../images/egusi-soup.jpg\";\r\nimport jamaicanPattiesImage from \"../../images/jamaican-patties.jpg\";\r\nimport caluluImage from \"../../images/calulu.jpg\";\r\nimport cachupaImage from \"../../images/cachupa.jpg\";\r\nimport chinChinImage from \"../../images/chin-chin.jpg\";\r\nimport bananaFlambeImage from \"../../images/banana-flambe.jpg\";\r\nimport randburgSunImage from \"../../images/randburg-sun.jpg\"; // Added for Randburg Sun\r\nimport waterImage from \"../../images/water.jpg\";\r\nimport cokeImage from \"../../images/coca-cola.jpg\";\r\nimport iceTeaImage from \"../../images/ice-tea.jpg\";\r\nimport compalImage from \"../../images/compal.jpg\"; // Added for Compal\r\nimport strawberryShakeImage from \"../../images/strawberry-milkshake.jpg\";\r\nimport chocolateShakeImage from \"../../images/chocolate-milkshake.jpg\";\r\nimport vanillaShakeImage from \"../../images/vanilla-milkshake.jpg\";\r\nimport oreoShakeImage from \"../../images/oreo-milkshake.jpg\"; // Added for Oreo Milkshake\r\nimport summersBeerImage from \"../../images/apple-somersby.jpg\";\r\nimport superBockImage from \"../../images/super-bock.jpg\";\r\nimport stellaImage from \"../../images/stella-artois.jpg\";\r\nimport cucaImage from \"../../images/cuca.jpg\"; // Added for Cuca\r\n\r\n// Image mapping\r\nconst images = {\r\n  \"suya-skewers.png\": suyaSkewersImage,\r\n  \"jollof-rice.jpg\": jollofRiceImage,\r\n  \"malva-pudding.png\": malvaPuddingImage,\r\n  \"moi-moi.jpg\": moiMoiImage,\r\n  \"puff-puff.jpg\": puffPuffImage,\r\n  \"jamaican-patties.jpg\": jamaicanPattiesImage,\r\n  \"egusi-soup.jpg\": egusiSoupImage,\r\n  \"calulu.jpg\": caluluImage,\r\n  \"cachupa.jpg\": cachupaImage,\r\n  \"chin-chin.jpg\": chinChinImage,\r\n  \"banana-flambe.jpg\": bananaFlambeImage,\r\n  \"randburg-sun.jpg\": randburgSunImage,\r\n  \"water.jpg\": waterImage,\r\n  \"coca-cola.jpg\": cokeImage,\r\n  \"ice-tea.jpg\": iceTeaImage,\r\n  \"compal.jpg\": compalImage,\r\n  \"strawberry-milkshake.jpg\": strawberryShakeImage,\r\n  \"chocolate-milkshake.jpg\": chocolateShakeImage,\r\n  \"vanilla-milkshake.jpg\": vanillaShakeImage,\r\n  \"oreo-milkshake.jpg\": oreoShakeImage,\r\n  \"apple-somersby.jpg\": summersBeerImage,\r\n  \"super-bock.jpg\": superBockImage,\r\n  \"stella-artois.jpg\": stellaImage,\r\n  \"cuca.jpg\": cucaImage,\r\n};\r\n\r\nconst getImage = (filename) =>\r\n  images[filename] || \"https://via.placeholder.com/150\";\r\n\r\nconst DELIVERY_FEE = 2.5;\r\nconst MINIMUM_ORDER_AMOUNT = 10.0;\r\nconst MAX_ITEMS_PER_ORDER = 20;\r\n\r\nconst DELIVERY_SLOTS = [\r\n  \"10:00 AM - 12:00 PM\",\r\n  \"12:00 PM - 2:00 PM\",\r\n  \"2:00 PM - 4:00 PM\",\r\n  \"4:00 PM - 6:00 PM\",\r\n  \"6:00 PM - 8:00 PM\",\r\n];\r\n\r\nconst initialFormData = {\r\n  name: \"\",\r\n  email: \"\",\r\n  phone: \"\",\r\n  street: \"\",\r\n  city: \"\",\r\n  postcode: \"\",\r\n  deliveryTime: \"\",\r\n  specialInstructions: \"\",\r\n};\r\n\r\nconst validateUKPostcode = (postcode) => {\r\n  const postcodeRegex = /^[A-Z]{1,2}[0-9][A-Z0-9]? ?[0-9][A-Z]{2}$/i;\r\n  return postcodeRegex.test(postcode.trim());\r\n};\r\n\r\nconst validateEmail = (email) => {\r\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n  return emailRegex.test(email);\r\n};\r\n\r\nconst validatePhone = (phone) => {\r\n  const phoneRegex = /^[\\d\\s]{11,14}$/;\r\n  return phoneRegex.test(phone);\r\n};\r\n\r\nfunction CheckoutPage() {\r\n  const { cart, removeFromCart, updateQuantity } = useCart();\r\n  const navigate = useNavigate();\r\n\r\n  const [formData, setFormData] = useState(initialFormData);\r\n  const [errors, setErrors] = useState({});\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n  // Format phone number as user types\r\n  const formatPhoneNumber = useCallback((value) => {\r\n    const phoneNumber = value.replace(/\\D/g, \"\");\r\n    if (phoneNumber.length <= 3) return phoneNumber;\r\n    if (phoneNumber.length <= 7)\r\n      return `${phoneNumber.slice(0, 3)} ${phoneNumber.slice(3)}`;\r\n    return `${phoneNumber.slice(0, 3)} ${phoneNumber.slice(3, 7)} ${phoneNumber.slice(7, 11)}`;\r\n  }, []);\r\n\r\n  // Handle all input changes\r\n  const handleInputChange = useCallback(\r\n    (e) => {\r\n      const { id, value } = e.target;\r\n\r\n      setFormData((prev) => ({\r\n        ...prev,\r\n        [id]: id === \"phone\" ? formatPhoneNumber(value) : value,\r\n      }));\r\n\r\n      // Clear errors for the changed field\r\n      setErrors((prev) => ({\r\n        ...prev,\r\n        [id]: \"\",\r\n        general: \"\",\r\n      }));\r\n    },\r\n    [formatPhoneNumber]\r\n  );\r\n\r\n  // Calculate cart totals\r\n  const { subtotal, totalPrice } = useMemo(() => {\r\n    const subtotal = cart.reduce((total, item) => {\r\n      const price = item.selectedPrice || item.price;\r\n      return total + price * item.quantity;\r\n    }, 0);\r\n\r\n    return {\r\n      subtotal,\r\n      totalPrice: subtotal + DELIVERY_FEE,\r\n    };\r\n  }, [cart]);\r\n\r\n  // Quantity handlers\r\n  const handleQuantityChange = useCallback(\r\n    (itemId, newQuantity, size) => {\r\n      if (newQuantity >= 1) {\r\n        updateQuantity(itemId, newQuantity, size);\r\n      }\r\n    },\r\n    [updateQuantity]\r\n  );\r\n\r\n  // Validate form data\r\n  const validateForm = useCallback(() => {\r\n    const newErrors = {};\r\n\r\n    // Name validation\r\n    if (!formData.name.trim()) {\r\n      newErrors.name = \"Name is required\";\r\n    }\r\n\r\n    // Email validation\r\n    if (!formData.email) {\r\n      newErrors.email = \"Email is required\";\r\n    } else if (!validateEmail(formData.email)) {\r\n      newErrors.email = \"Please enter a valid email address\";\r\n    }\r\n\r\n    // Phone validation\r\n    if (!formData.phone) {\r\n      newErrors.phone = \"Phone number is required\";\r\n    } else if (!validatePhone(formData.phone)) {\r\n      newErrors.phone = \"Please enter a valid UK phone number\";\r\n    }\r\n\r\n    // Address validation\r\n    if (!formData.street.trim()) {\r\n      newErrors.street = \"Street address is required\";\r\n    }\r\n\r\n    if (!formData.city.trim()) {\r\n      newErrors.city = \"City is required\";\r\n    }\r\n\r\n    if (!formData.postcode.trim()) {\r\n      newErrors.postcode = \"Postcode is required\";\r\n    } else if (!validateUKPostcode(formData.postcode)) {\r\n      newErrors.postcode = \"Please enter a valid UK postcode\";\r\n    }\r\n\r\n    // Delivery time validation\r\n    if (!formData.deliveryTime) {\r\n      newErrors.deliveryTime = \"Please select a delivery time\";\r\n    }\r\n\r\n    // Order amount validation\r\n    if (subtotal < MINIMUM_ORDER_AMOUNT) {\r\n      newErrors.general = `Minimum order amount is Â£${MINIMUM_ORDER_AMOUNT.toFixed(2)}`;\r\n    }\r\n\r\n    const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);\r\n    if (totalItems > MAX_ITEMS_PER_ORDER) {\r\n      newErrors.general = `Maximum ${MAX_ITEMS_PER_ORDER} items allowed per order`;\r\n    }\r\n\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  }, [formData, subtotal, cart]);\r\n\r\n  // Handle form submission\r\n  const handleSubmit = useCallback(\r\n    async (e) => {\r\n      e.preventDefault();\r\n\r\n      if (!validateForm()) {\r\n        return;\r\n      }\r\n\r\n      if (cart.length === 0) {\r\n        setErrors({ general: \"Your cart is empty\" });\r\n        return;\r\n      }\r\n\r\n      try {\r\n        setIsSubmitting(true);\r\n\r\n        navigate(\"/payment\", {\r\n          state: {\r\n            orderDetails: {\r\n              items: cart.map((item) => ({\r\n                id: item.id,\r\n                name: item.name,\r\n                quantity: item.quantity,\r\n                price: item.selectedPrice || item.price,\r\n                size: item.size || \"regular\",\r\n              })),\r\n              customerInfo: {\r\n                name: formData.name,\r\n                email: formData.email,\r\n                phone: formData.phone,\r\n                address: formData.street,\r\n                city: formData.city,\r\n                postcode: formData.postcode.toUpperCase(),\r\n                deliveryTime: formData.deliveryTime,\r\n                specialInstructions: formData.specialInstructions,\r\n              },\r\n              subtotal,\r\n              deliveryFee: DELIVERY_FEE,\r\n              totalAmount: totalPrice,\r\n              orderDate: new Date().toISOString(),\r\n            },\r\n          },\r\n        });\r\n      } catch (error) {\r\n        console.error(\"Checkout error:\", error);\r\n        setErrors({\r\n          general:\r\n            \"There was an error processing your order. Please try again.\",\r\n        });\r\n      } finally {\r\n        setIsSubmitting(false);\r\n      }\r\n    },\r\n    [cart, formData, subtotal, totalPrice, navigate, validateForm]\r\n  );\r\n\r\n  // Empty cart view\r\n  if (cart.length === 0) {\r\n    return (\r\n      <div className=\"checkout-page\">\r\n        <div className=\"checkout-container\">\r\n          <h1 className=\"page-title\">Checkout</h1>\r\n          <div className=\"empty-cart\">\r\n            <p>Your cart is empty</p>\r\n            <button\r\n              className=\"primary-button\"\r\n              onClick={() => navigate(\"/menu\")}\r\n            >\r\n              Return to Menu\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Main checkout view\r\n  return (\r\n    <div className=\"checkout-page\">\r\n      <div className=\"checkout-container\">\r\n        <ProgressSteps currentStep={1} />\r\n\r\n        {/* Header */}\r\n        <div className=\"checkout-header\">\r\n          <button className=\"back-button\" onClick={() => navigate(-1)}>\r\n            â Back\r\n          </button>\r\n          <h1>Checkout</h1>\r\n        </div>\r\n\r\n        {/* Order Summary */}\r\n        <div className=\"order-summary\">\r\n          <h2>Order Summary</h2>\r\n          <ul className=\"cart-items\">\r\n            {cart.map((item) => (\r\n              <li\r\n                key={`${item.id}-${item.size || \"default\"}`}\r\n                className=\"cart-item\"\r\n              >\r\n                <div className=\"item-info\">\r\n                  <img\r\n                    src={getImage(item.image)}\r\n                    alt={item.name}\r\n                    className=\"checkout-item-image\"\r\n                  />\r\n                  <span className=\"item-name\">\r\n                    {item.name}\r\n                    {item.size && (\r\n                      <span className=\"item-size\">({item.size})</span>\r\n                    )}\r\n                  </span>\r\n                  <span className=\"item-price\">\r\n                    Â£{(item.selectedPrice || item.price).toFixed(2)}\r\n                  </span>\r\n                </div>\r\n\r\n                <div className=\"quantity-controls\">\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() =>\r\n                      handleQuantityChange(\r\n                        item.id,\r\n                        item.quantity - 1,\r\n                        item.size\r\n                      )\r\n                    }\r\n                    className=\"quantity-btn\"\r\n                  >\r\n                    -\r\n                  </button>\r\n                  <span>{item.quantity}</span>\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() =>\r\n                      handleQuantityChange(\r\n                        item.id,\r\n                        item.quantity + 1,\r\n                        item.size\r\n                      )\r\n                    }\r\n                    className=\"quantity-btn\"\r\n                  >\r\n                    +\r\n                  </button>\r\n                </div>\r\n\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => removeFromCart(item.id, item.size)}\r\n                  className=\"remove-btn\"\r\n                >\r\n                  Remove\r\n                </button>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n\r\n          <div className=\"price-summary\">\r\n            <div className=\"price-row\">\r\n              <span>Subtotal</span>\r\n              <span>Â£{subtotal.toFixed(2)}</span>\r\n            </div>\r\n            <div className=\"price-row\">\r\n              <span>Delivery Fee</span>\r\n              <span>Â£{DELIVERY_FEE.toFixed(2)}</span>\r\n            </div>\r\n            <div className=\"price-row total\">\r\n              <span>Total</span>\r\n              <span>Â£{totalPrice.toFixed(2)}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Delivery Details Form */}\r\n        <form onSubmit={handleSubmit} className=\"delivery-form\">\r\n          <h2>Delivery Details</h2>\r\n\r\n          <div className=\"form-section\">\r\n            <h3>Contact Information</h3>\r\n            <div className=\"form-grid\">\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"name\">Full Name *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"name\"\r\n                  value={formData.name}\r\n                  onChange={handleInputChange}\r\n                  placeholder=\"Enter your full name\"\r\n                  className={errors.name ? \"error\" : \"\"}\r\n                />\r\n                {errors.name && (\r\n                  <span className=\"error-text\">{errors.name}</span>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"email\">Email Address *</label>\r\n                <input\r\n                  type=\"email\"\r\n                  id=\"email\"\r\n                  value={formData.email}\r\n                  onChange={handleInputChange}\r\n                  placeholder=\"Enter your email\"\r\n                  className={errors.email ? \"error\" : \"\"}\r\n                />\r\n                {errors.email && (\r\n                  <span className=\"error-text\">{errors.email}</span>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"phone\">Phone Number *</label>\r\n                <input\r\n                  type=\"tel\"\r\n                  id=\"phone\"\r\n                  value={formData.phone}\r\n                  onChange={handleInputChange}\r\n                  placeholder=\"Enter your phone number\"\r\n                  className={errors.phone ? \"error\" : \"\"}\r\n                />\r\n                {errors.phone && (\r\n                  <span className=\"error-text\">{errors.phone}</span>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"form-section\">\r\n            <h3>Delivery Address</h3>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"street\">Street Address *</label>\r\n              <textarea\r\n                id=\"street\"\r\n                value={formData.street}\r\n                onChange={handleInputChange}\r\n                placeholder=\"Enter your street address\"\r\n                rows=\"2\"\r\n                className={errors.street ? \"error\" : \"\"}\r\n              />\r\n              {errors.street && (\r\n                <span className=\"error-text\">{errors.street}</span>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"address-grid\">\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"city\">City *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"city\"\r\n                  value={formData.city}\r\n                  onChange={handleInputChange}\r\n                  placeholder=\"Enter city\"\r\n                  className={errors.city ? \"error\" : \"\"}\r\n                />\r\n                {errors.city && (\r\n                  <span className=\"error-text\">{errors.city}</span>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"postcode\">Postcode *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"postcode\"\r\n                  value={formData.postcode}\r\n                  onChange={handleInputChange}\r\n                  placeholder=\"Enter postcode\"\r\n                  className={errors.postcode ? \"error\" : \"\"}\r\n                />\r\n                {errors.postcode && (\r\n                  <span className=\"error-text\">{errors.postcode}</span>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"form-section\">\r\n            <h2 className=\"summary-title\">Delivery Options</h2>\r\n\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"deliveryTime\">Preferred Delivery Time *</label>\r\n              <select\r\n                id=\"deliveryTime\"\r\n                value={formData.deliveryTime}\r\n                onChange={handleInputChange}\r\n                className={errors.deliveryTime ? \"error\" : \"\"}\r\n              >\r\n                <option value=\"\">Select delivery time</option>\r\n                {DELIVERY_SLOTS.map((slot) => (\r\n                  <option key={slot} value={slot}>\r\n                    {slot}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n              {errors.deliveryTime && (\r\n                <span className=\"error-message\">{errors.deliveryTime}</span>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"specialInstructions\">\r\n                Special Instructions (Optional)\r\n              </label>\r\n              <textarea\r\n                id=\"specialInstructions\"\r\n                value={formData.specialInstructions}\r\n                onChange={handleInputChange}\r\n                placeholder=\"Add any special delivery instructions...\"\r\n                rows=\"3\"\r\n                className=\"special-instructions\"\r\n              />\r\n            </div>\r\n\r\n            {/* Price Summary */}\r\n            <div className=\"price-summary\">\r\n              <div className=\"price-row\">\r\n                <span>Subtotal:</span>\r\n                <span>Â£{subtotal.toFixed(2)}</span>\r\n              </div>\r\n              <div className=\"price-row\">\r\n                <span>Delivery Fee:</span>\r\n                <span>Â£{DELIVERY_FEE.toFixed(2)}</span>\r\n              </div>\r\n              <div className=\"price-row total\">\r\n                <span>Total Amount:</span>\r\n                <span>Â£{totalPrice.toFixed(2)}</span>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Minimum Order Notice */}\r\n            <div className=\"order-notice\">\r\n              <p>* Minimum order: Â£{MINIMUM_ORDER_AMOUNT.toFixed(2)}</p>\r\n              <p>* Maximum {MAX_ITEMS_PER_ORDER} items per order</p>\r\n            </div>\r\n\r\n            {/* Error Message */}\r\n            {errors.general && (\r\n              <div className=\"error-message general\">{errors.general}</div>\r\n            )}\r\n\r\n            {/* Submit Button */}\r\n            <button\r\n              type=\"submit\"\r\n              className=\"submit-button\"\r\n              disabled={isSubmitting}\r\n            >\r\n              {isSubmitting ? (\r\n                <span>Processing...</span>\r\n              ) : (\r\n                <span>Proceed to Payment â¢ Â£{totalPrice.toFixed(2)}</span>\r\n              )}\r\n            </button>\r\n          </div>\r\n\r\n          {/* Terms and Privacy */}\r\n          <div className=\"terms-section\">\r\n            <p>\r\n              By proceeding, you agree to our{\" \"}\r\n              <a href=\"/terms\" className=\"link\">\r\n                Terms & Conditions\r\n              </a>{\" \"}\r\n              and{\" \"}\r\n              <a href=\"/privacy\" className=\"link\">\r\n                Privacy Policy\r\n              </a>\r\n            </p>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CheckoutPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}