{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rui Seca\\\\savannah-bites\\\\frontend\\\\src\\\\components\\\\CookingPotBasket\\\\index.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { useCart } from \"../../context/CartContext\";\nimport PropTypes from \"prop-types\";\nimport \"./styles.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CookingPotBasket({\n  onClick\n}) {\n  _s();\n  const {\n    cart\n  } = useCart();\n  const itemCount = cart.reduce((total, item) => total + item.quantity, 0);\n  const [isActive, setIsActive] = useState(false);\n  const [showSuccess, setShowSuccess] = useState(false);\n  const prevCountRef = useRef(itemCount);\n  const timeoutRef = useRef(null);\n  const successTimeoutRef = useRef(null);\n  useEffect(() => {\n    if (itemCount > prevCountRef.current) {\n      // Clear any existing timeouts\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current);\n      }\n      if (successTimeoutRef.current) {\n        clearTimeout(successTimeoutRef.current);\n      }\n\n      // Reset states to ensure animation plays\n      setIsActive(false);\n      setShowSuccess(false);\n\n      // Small delay to ensure reset takes effect\n      requestAnimationFrame(() => {\n        setIsActive(true);\n        timeoutRef.current = setTimeout(() => {\n          setShowSuccess(true);\n          successTimeoutRef.current = setTimeout(() => {\n            setShowSuccess(false);\n            setIsActive(false);\n          }, 1500); // Shorter duration for reset\n        }, 1000);\n      });\n    }\n    prevCountRef.current = itemCount;\n\n    // Cleanup timeouts\n    return () => {\n      if (timeoutRef.current) clearTimeout(timeoutRef.current);\n      if (successTimeoutRef.current) clearTimeout(successTimeoutRef.current);\n    };\n  }, [itemCount]);\n  const handleClick = e => {\n    onClick(e);\n  };\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    className: `cooking-pot-basket ${isActive ? \"active\" : \"\"} ${showSuccess ? \"success\" : \"\"}`,\n    onClick: handleClick,\n    \"aria-label\": `Shopping cart with ${itemCount} items`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"liquid\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"success-bg\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n      className: \"steam\",\n      viewBox: \"0 0 24 24\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      children: /*#__PURE__*/_jsxDEV(\"path\", {\n        d: \"M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2Z\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n      className: \"splash\",\n      viewBox: \"0 0 24 24\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      children: /*#__PURE__*/_jsxDEV(\"circle\", {\n        cx: \"12\",\n        cy: \"12\",\n        r: \"10\",\n        fill: \"none\",\n        stroke: \"#ff9d6c\",\n        strokeWidth: \"2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"btn-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n        className: \"pot\",\n        viewBox: \"0 0 24 24\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        children: /*#__PURE__*/_jsxDEV(\"path\", {\n          d: \"M19,14V17A5,5,0,0,1,14,22H10A5,5,0,0,1,5,17V14H2V12H22V14ZM3,4A1,1,0,0,1,4,3H6A1,1,0,0,1,6,5H4A1,1,0,0,1,3,4ZM8,4A1,1,0,0,1,9,3h2a1,1,0,0,1,0,2H9A1,1,0,0,1,8,4ZM13,4a1,1,0,0,1,1-1h2a1,1,0,0,1,0,2H14A1,1,0,0,1,13,4ZM7,8H17l1.5,4H5.5Z\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), itemCount > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"item-count\",\n        children: itemCount\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 27\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"success-message\",\n      children: /*#__PURE__*/_jsxDEV(\"svg\", {\n        className: \"success-tick\",\n        viewBox: \"0 0 24 24\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        children: /*#__PURE__*/_jsxDEV(\"path\", {\n          d: \"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n      className: \"ingredient\",\n      viewBox: \"0 0 512 512\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      children: /*#__PURE__*/_jsxDEV(\"path\", {\n        d: \"M298.2 156.6C245.5 130.9 183.7 146.1 147.1 189.4l55.27 55.31c6.25 6.25 6.25 16.33 0 22.58c-3.127 3-7.266 4.605-11.39 4.605s-8.068-1.605-11.19-4.605L124.7 211.2C81.33 247.8 66.16 309.6 91.88 362.2c13.61 27.72 36.09 50.25 63.81 63.86c52.65 25.72 114.4 10.55 151.1-32.86L261.7 347.3c-6.25-6.25-6.25-16.38 0-22.63c6.25-6.25 16.38-6.25 22.63 0l55.15 55.15c43.28-36.65 58.45-98.4 32.73-151.1C358.6 192.7 336.1 170.2 298.2 156.6z\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n}\n_s(CookingPotBasket, \"62SZ2NBveOSMhHKPe2FWq8Mjo5w=\", false, function () {\n  return [useCart];\n});\n_c = CookingPotBasket;\nCookingPotBasket.propTypes = {\n  onClick: PropTypes.func.isRequired\n};\nexport default CookingPotBasket;\nvar _c;\n$RefreshReg$(_c, \"CookingPotBasket\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCart","PropTypes","jsxDEV","_jsxDEV","CookingPotBasket","onClick","_s","cart","itemCount","reduce","total","item","quantity","isActive","setIsActive","showSuccess","setShowSuccess","prevCountRef","timeoutRef","successTimeoutRef","current","clearTimeout","requestAnimationFrame","setTimeout","handleClick","e","className","children","fileName","_jsxFileName","lineNumber","columnNumber","viewBox","xmlns","d","cx","cy","r","fill","stroke","strokeWidth","_c","propTypes","func","isRequired","$RefreshReg$"],"sources":["C:/Users/Rui Seca/savannah-bites/frontend/src/components/CookingPotBasket/index.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport { useCart } from \"../../context/CartContext\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./styles.css\";\r\n\r\nfunction CookingPotBasket({ onClick }) {\r\n  const { cart } = useCart();\r\n  const itemCount = cart.reduce((total, item) => total + item.quantity, 0);\r\n  const [isActive, setIsActive] = useState(false);\r\n  const [showSuccess, setShowSuccess] = useState(false);\r\n  const prevCountRef = useRef(itemCount);\r\n  const timeoutRef = useRef(null);\r\n  const successTimeoutRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (itemCount > prevCountRef.current) {\r\n      // Clear any existing timeouts\r\n      if (timeoutRef.current) {\r\n        clearTimeout(timeoutRef.current);\r\n      }\r\n      if (successTimeoutRef.current) {\r\n        clearTimeout(successTimeoutRef.current);\r\n      }\r\n\r\n      // Reset states to ensure animation plays\r\n      setIsActive(false);\r\n      setShowSuccess(false);\r\n\r\n      // Small delay to ensure reset takes effect\r\n      requestAnimationFrame(() => {\r\n        setIsActive(true);\r\n\r\n        timeoutRef.current = setTimeout(() => {\r\n          setShowSuccess(true);\r\n\r\n          successTimeoutRef.current = setTimeout(() => {\r\n            setShowSuccess(false);\r\n            setIsActive(false);\r\n          }, 1500); // Shorter duration for reset\r\n        }, 1000);\r\n      });\r\n    }\r\n    prevCountRef.current = itemCount;\r\n\r\n    // Cleanup timeouts\r\n    return () => {\r\n      if (timeoutRef.current) clearTimeout(timeoutRef.current);\r\n      if (successTimeoutRef.current) clearTimeout(successTimeoutRef.current);\r\n    };\r\n  }, [itemCount]);\r\n\r\n  const handleClick = (e) => {\r\n    onClick(e);\r\n  };\r\n\r\n  return (\r\n    <button\r\n      className={`cooking-pot-basket ${isActive ? \"active\" : \"\"} ${showSuccess ? \"success\" : \"\"}`}\r\n      onClick={handleClick}\r\n      aria-label={`Shopping cart with ${itemCount} items`}\r\n    >\r\n      <div className=\"liquid\" />\r\n      <div className=\"success-bg\" />\r\n\r\n      <svg\r\n        className=\"steam\"\r\n        viewBox=\"0 0 24 24\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n      >\r\n        <path d=\"M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2Z\" />\r\n      </svg>\r\n\r\n      <svg\r\n        className=\"splash\"\r\n        viewBox=\"0 0 24 24\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n      >\r\n        <circle\r\n          cx=\"12\"\r\n          cy=\"12\"\r\n          r=\"10\"\r\n          fill=\"none\"\r\n          stroke=\"#ff9d6c\"\r\n          strokeWidth=\"2\"\r\n        />\r\n      </svg>\r\n\r\n      <div className=\"btn-content\">\r\n        <svg\r\n          className=\"pot\"\r\n          viewBox=\"0 0 24 24\"\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n        >\r\n          <path d=\"M19,14V17A5,5,0,0,1,14,22H10A5,5,0,0,1,5,17V14H2V12H22V14ZM3,4A1,1,0,0,1,4,3H6A1,1,0,0,1,6,5H4A1,1,0,0,1,3,4ZM8,4A1,1,0,0,1,9,3h2a1,1,0,0,1,0,2H9A1,1,0,0,1,8,4ZM13,4a1,1,0,0,1,1-1h2a1,1,0,0,1,0,2H14A1,1,0,0,1,13,4ZM7,8H17l1.5,4H5.5Z\" />\r\n        </svg>\r\n        {itemCount > 0 && <span className=\"item-count\">{itemCount}</span>}\r\n      </div>\r\n\r\n      <div className=\"success-message\">\r\n        <svg\r\n          className=\"success-tick\"\r\n          viewBox=\"0 0 24 24\"\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n        >\r\n          <path d=\"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z\" />\r\n        </svg>\r\n      </div>\r\n\r\n      <svg\r\n        className=\"ingredient\"\r\n        viewBox=\"0 0 512 512\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n      >\r\n        <path d=\"M298.2 156.6C245.5 130.9 183.7 146.1 147.1 189.4l55.27 55.31c6.25 6.25 6.25 16.33 0 22.58c-3.127 3-7.266 4.605-11.39 4.605s-8.068-1.605-11.19-4.605L124.7 211.2C81.33 247.8 66.16 309.6 91.88 362.2c13.61 27.72 36.09 50.25 63.81 63.86c52.65 25.72 114.4 10.55 151.1-32.86L261.7 347.3c-6.25-6.25-6.25-16.38 0-22.63c6.25-6.25 16.38-6.25 22.63 0l55.15 55.15c43.28-36.65 58.45-98.4 32.73-151.1C358.6 192.7 336.1 170.2 298.2 156.6z\" />\r\n      </svg>\r\n    </button>\r\n  );\r\n}\r\n\r\nCookingPotBasket.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default CookingPotBasket;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}